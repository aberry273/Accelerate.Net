@model Accelerate.Foundations.Common.Models.Views.NavigationBar

<div x-data="{fixed: false}">
    <nav style="height:50px" :class="fixed ? 'show' : 'hide'"><ul></ul></nav>

    <!-- Header -->
    @if (Model.Authenticated)
    {
    
         <nav 
              :class="fixed ? 'container sticky floating' : ''" 
              @@scroll.window="fixed = (window.pageYOffset < 1) ? false: true">
            <ul><li><strong><a href="@Model.Href">@Model.Title</a></strong></li></ul>
            <ul>
                @foreach(var link in Model.Items)
                {
                    if(link.Disabled == true)
                    {
                        <li>@link.Text</li>
                    }
                    else
                    {
                        <li><a href="@link.Href">@link.Text</a></li>
                    }
                }
                @if(Model.Dropdown != null)
                {
                    var profilePicture = !string.IsNullOrEmpty(Model.Dropdown.Image)
                        ? $"{Model.Dropdown.Image}?w=50"
                        : null;
                    <details class="dropdown avatar">
                        <summary role="link">
                            @if (!string.IsNullOrEmpty(@profilePicture))
                            {
                                <img src="@profilePicture" />
                            }
                            else
                            {
                                <i class="icon material-icons icon-click">person</i>
                            }
                        </summary>
                        <ul>
                            @foreach (var link in Model.Dropdown.Items)
                            {
                                if (link.Disabled == true)
                                {
                                    <li>@link.Text</li>
                                }
                                else
                                {
                                    <li><a href="@link.Href">@link.Text</a></li>
                                }
                            }
                        </ul>
                    </details>
                }
            </ul>
        </nav>
    }
    else
    {
        <nav x-data="{fixed: false}"
             :class="fixed ? 'container sticky floating' : ''"
             @@scroll.window="fixed = (window.pageYOffset < 1) ? false: true">
            <ul><li><strong><a href="@Model.Href">@Model.Title</a></strong></li></ul>
            <ul>
                @foreach (var link in Model.Items)
                {
                    if (link.Disabled == true)
                    {
                        <li>@link.Text</li>
                    }
                    else
                    {
                        <li><a href="@link.Href">@link.Text</a></li>
                    }
                }
            </ul>
        </nav>
    }
</div>